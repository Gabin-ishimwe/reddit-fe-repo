(this["webpackJsonpreddit-redesign-clone"]=this["webpackJsonpreddit-redesign-clone"]||[]).push([[0],{27:function(e,t,a){e.exports=a(45)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(25),c=a.n(o),l=(a(32),a(33),a(34),a(10));var s=function(){return r.a.createElement("div",{className:"sidenav col-md-2"},r.a.createElement("a",{href:"create"},r.a.createElement("button",{type:"button",class:"create-post"},"Create Post")),r.a.createElement("div",{className:"sidenav__link"},r.a.createElement("h5",null,r.a.createElement("strong",null,"Subreddits")),r.a.createElement("div",{className:"subreddits-list"},r.a.createElement("ul",{className:"sidenav__subreddit"},["askreddit","worldnews","videos","funny","askscience"].map((function(e){return r.a.createElement("li",null,r.a.createElement(l.b,{to:"/r/".concat(e)},e))}))))))},m=a(2),i=(a(39),a(17));var u=function(){var e=Object(n.useState)("user_name"),t=(Object(m.a)(e,1)[0],Object(n.useState)(!1)),a=Object(m.a)(t,2),o=a[0],c=a[1];return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light",style:{backgroundColor:"rgb(252, 69, 4)"}},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("a",{className:"navbar-brand text-white ",href:"/"},r.a.createElement(i.b,null),r.a.createElement("span",{className:"text-white fw-bold ps-3 pe-5 me-5"},"Reddit")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"header__right"},r.a.createElement("div",{className:"header__user"},r.a.createElement("img",{src:"https://png.pngtree.com/png-clipart/20190614/original/pngtree-female-avatar-vector-icon-png-image_3725439.jpg"}),r.a.createElement("span",null,"User"),r.a.createElement(i.a,{id:"downArrow",onClick:function(){return c(!o)},Style:{color:"rgb(252, 69, 4)"}})),r.a.createElement("div",{className:"Authorisation"},r.a.createElement(l.b,{to:"/login",className:"login link"},"Log In"),r.a.createElement(l.b,{to:"",className:"bar"},"|"),r.a.createElement(l.b,{to:"/signup",className:"signup link"},"Sign up")))),r.a.createElement("div",{className:"mainContent"},o?r.a.createElement("div",{className:"rightBar"},r.a.createElement("div",{className:"DropItem",id:"logout"},r.a.createElement("p",null,r.a.createElement("a",{href:"/login",style:{"text-decoration":"none",color:"black"}},"Logout")))):null))},d=(a(40),a(3)),p=a.n(d),g=a(6),f=a(15),b=a(11),h=a(4),E=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),o=(a[0],a[1]),c=Object(n.useState)(null),l=Object(m.a)(c,2),s=(l[0],l[1]),i=Object(n.useState)(null),u=Object(m.a)(i,2),d=(u[0],u[1]),E=Object(n.useState)(null),v=Object(m.a)(E,2),N=v[0],y=v[1],x=Object(h.useHistory)(),w=function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reddit-backend-clone.herokuapp.com/api/v1/posts/".concat(t,"/upvote"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}),(function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reddit-backend-clone.herokuapp.com/api/v1/posts/".concat(t,"/downvote"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){fetch("https://reddit-backend-clone.herokuapp.com/api/v1/posts",{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){if(!e.ok)throw Error("Could not fetch :(");return e.json()})).then((function(e){o(e.data),console.log(e),s(!1),d(null),y(e.data)})).catch((function(e){d(e.message),s(!1)}))})),null!==N?r.a.createElement("section",{className:"posts"},N.map((function(e){return r.a.createElement("div",{className:"card mb-3",style:{"max-width":"950px","margin-left":"50px","margin-right":"50px","margin-top":"10px","padding-top":"20px","padding-bottom":"20px"}},r.a.createElement("div",{className:"row g-0"},r.a.createElement("div",{className:"col-md-1"},r.a.createElement(b.b,{className:"up",style:{"font-color":"white"},onClick:function(){return w(e._id)}}),r.a.createElement("p",{style:{"margin-bottom":"0px"}},e.likes),r.a.createElement(b.a,{className:"down",onClick:function(){return j(e._id)}})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("img",{src:e.image[0],className:"img-fluid rounded-start",alt:"...",style:{"max-height":"200px"}})),r.a.createElement("div",{className:"col-md-7",style:{"text-align":"left",position:"relative"},onClick:function(){localStorage.setItem("postId",e._id),x.push("/view")}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement("p",{style:{display:"inline-block","padding-right":"20px"}},r.a.createElement("small",{className:"text-muted"},"Category: ",e.category)),r.a.createElement("p",{style:{display:"inline-block","padding-right":"20px"}},r.a.createElement("small",{className:"text-muted"},"posted by: ",e.author)),r.a.createElement("p",{style:{display:"inline-block","padding-right":"20px"}},r.a.createElement("small",{className:"text-muted"},"at: ",e.date))),r.a.createElement("h5",{className:"card-title "},e.title)),r.a.createElement("div",{className:"comments d-inline-flex",style:{"text-align":"left",position:"absolute",bottom:"0px"}},r.a.createElement(f.a,{style:{height:"25px","margin-left":"15px","margin-right":"10px"}}),r.a.createElement("p",{style:{"margin-bottom":"0px"}},e.comments.length," comments")))))}))):r.a.createElement("h1",null,"Loading....")};var v=function(){return r.a.createElement("div",{className:"main "},r.a.createElement(s,null),r.a.createElement(E,null))},N=a(12),y=a.n(N),x=function(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),l=Object(m.a)(c,2),s=l[0],i=l[1],u=Object(n.useState)(),d=Object(m.a)(u,2),f=d[0],b=d[1],h=Object(n.useState)(),E=Object(m.a)(h,2),v=E[0],N=E[1],x=Object(n.useState)(),w=Object(m.a)(x,2),j=w[0],k=w[1],O=function(){var e=Object(g.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={firstName:a,lastName:s,email:f,password:v,confirmPassword:j},console.log(n),v!==j){e.next=8;break}return e.next=6,fetch("https://reddit-backend-clone.herokuapp.com/api/v1/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:a,last_name:s,email:f,password:v})}).then((function(e){return e.json()})).then((function(e){console.log(e),("user registered successful"===e.message||e.token)&&y()("User registered!!","successfully register","success")}),(function(e){return console.log(e)}));case 6:e.next=9;break;case 8:y()("Passwords don't math!!","Input correct password","error");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container mt-5 mb-5 col-lg-6",style:{border:"1px solid rgb(252, 69, 4)"}},r.a.createElement("h1",{className:"text-center mt-5 mb-3",style:{color:"rgb(252, 69, 4)"}},"SIGN UP"),r.a.createElement("div",{className:"row justify-content-center my-5 me-2 ms-2"},r.a.createElement("form",{onSubmit:O},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"username",className:"text-left mb-3"},"First name:"),r.a.createElement("input",{type:"text",className:"form-control mb-3",id:"username",placeholder:"First Name",value:a,onChange:function(e){return o(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"username",className:"text-left mb-3"},"Last name:"),r.a.createElement("input",{type:"text",className:"form-control mb-3",id:"username",placeholder:"First Name",value:s,onChange:function(e){return i(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"email",className:"mb-3"},"Email:"),r.a.createElement("input",{type:"email",className:"form-control mb-3",id:"email",value:f,placeholder:"email",onChange:function(e){return b(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password",className:"mb-3"},"Password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"form-control mb-3",value:v,id:"password",onChange:function(e){return N(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"confirmPassword",className:"mb-3"},"Confirm password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"form-control mb-3",value:j,id:"confirmPassword",onChange:function(e){return k(e.target.value)},required:!0})),r.a.createElement("button",{type:"submit",className:"btn col-md-12 mt-4 mb-5",style:{backgroundColor:"rgb(252, 69, 4)",color:"#fff"}},"Sign up"),r.a.createElement("p",{className:"text-center"},"Already a redditor? ",r.a.createElement("a",{href:"/login",style:{color:"rgb(252, 69, 4)"}},"LOG IN")))))},w=a(18);var j=function(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),l=Object(m.a)(c,2),s=l[0],i=l[1],u=Object(n.useState)(),d=Object(m.a)(u,2),f=d[0],b=d[1],h=Object(n.useState)(),E=Object(m.a)(h,2),v=E[0],N=E[1],y=Object(w.useHistory)(),x=function(){var e=Object(g.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={category:a,title:s,caption:f,image:v},console.log(n),(r=new FormData).append("title",s),r.append("content",f),r.append("image",v),r.append("category","lorem ipsum"),e.next=10,fetch("https://reddit-backend-clone.herokuapp.com/api/v1/posts",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:r}).then((function(e){return e.json()})).then((function(e){console.log(e),y.push("/")}),(function(e){return console.log(e)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container mt-5 mb-5 col-lg-6",style:{border:"1px solid rgb(252, 69, 4)"}},r.a.createElement("h1",{className:"text-center mt-5 mb-3",style:{color:"rgb(252, 69, 4)"}},"CREATE POST"),r.a.createElement("div",{className:"row justify-content-center my-5 me-2 ms-2"},r.a.createElement("form",{onSubmit:x},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"category",className:"text-left mb-3"},"Choose category:"),r.a.createElement("select",{type:"text",className:"form-control mb-3 custom-select",id:"category",placeholder:"Category",value:a,onChange:function(e){return o(e.target.value)},required:!0},["News","Movie","Music","Entertainment","Arts","Politics"].map((function(e){return r.a.createElement("option",{value:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"title",className:"text-left mb-3"},"Title:"),r.a.createElement("input",{type:"text",className:"form-control mb-3",id:"title",placeholder:"Title",value:s,onChange:function(e){return i(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"caption",className:"mb-3"},"Caption:"),r.a.createElement("input",{type:"text",className:"form-control mb-3",id:"caption",value:f,placeholder:"Caption",onChange:function(e){return b(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"confirmNewPassword",className:"mb-3"},"Image:"),r.a.createElement("br",null),r.a.createElement("div",{className:"col-lg-12 border p-5 ps-2"},r.a.createElement("input",{type:"file",className:"form-control-file",id:"image",onChange:function(e){return N(e.target.files[0])},required:!0}))),r.a.createElement("button",{type:"submit",className:"btn col-md-12 mt-4 mb-5",style:{backgroundColor:"rgb(252, 69, 4)",color:"#fff"},onClick:x},"Post"))))},k=function(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),l=Object(m.a)(c,2),s=l[0],i=l[1],u=Object(w.useHistory)(),d=function(){var e=Object(g.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={userEmail:a,password:s},console.log(n),e.next=5,fetch("https://reddit-backend-clone.herokuapp.com/api/v1/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:s})}).then((function(e){return e.json()})).then((function(e){console.log(e),"Invalid password"===e.message||"user doesn't exist"===e.message?y()("Invalid credentials!!","Please log in again","warning"):e.error?y()("Error!!","Try to log in again","error"):(localStorage.setItem("token",e.token),u.push("/"))}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container mt-5 mb-5 col-lg-6",style:{border:"1px solid rgb(252, 69, 4)"}},r.a.createElement("h1",{className:"text-center mt-5 mb-3",style:{color:"rgb(252, 69, 4)"}},"LOG IN"),r.a.createElement("div",{className:"row justify-content-center my-5 me-2 ms-2"},r.a.createElement("form",{onSubmit:d},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"username",className:"text-left mb-3"},"Email:"),r.a.createElement("input",{type:"text",className:"form-control mb-3",id:"username",placeholder:"Email",value:a,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password",className:"mb-3"},"Password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"form-control mb-3",value:s,placeholder:"Password",id:"password",onChange:function(e){return i(e.target.value)}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary col-md-12 mt-4 mb-5",style:{backgroundColor:"rgb(252, 69, 4)",color:"#fff",border:"none"}},"login"),r.a.createElement("p",{className:"text-center"},"Don't have an account? ",r.a.createElement("a",{href:"/signup",style:{color:"rgb(252, 69, 4)"}},"Sign up")))))},O=function(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),l=Object(m.a)(c,2),s=l[0],i=l[1],u=Object(n.useState)(),d=Object(m.a)(u,2),h=d[0],E=d[1],v=Object(n.useState)(),N=Object(m.a)(v,2),y=N[0],x=N[1],w=Object(n.useState)(null),j=Object(m.a)(w,2),k=j[0],O=j[1],S=Object(n.useState)(1),C=Object(m.a)(S,2),I=C[0],P=C[1];Object(n.useEffect)((function(){fetch("https://reddit-backend-clone.herokuapp.com/api/v1/posts/".concat(localStorage.getItem("postId")),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){console.log(e),O(e)}))}),[]);var T=function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reddit-backend-clone.herokuapp.com/api/v1/posts/".concat(t,"/upvote"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){console.log(e),P(e.data.likes),console.log(I)}),(function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reddit-backend-clone.herokuapp.com/api/v1/posts/".concat(t,"/downvote"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){console.log(e),P(e.data.likes),console.log(I)}),(function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(g.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://reddit-backend-clone.herokuapp.com/api/v1/posts/".concat(localStorage.getItem("postId"),"/comments"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({name:a,content:s})}).then((function(e){return e.json()})).then((function(e){console.log(e),E(e.data.name),x(e.data.content)}));case 3:n={name:a},r={comment:s},console.log(r,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null!==k?r.a.createElement("div",{className:"container mt-5 mb-5 p-5 ",style:{border:"1px solid rgb(252, 69, 4)"}},r.a.createElement("div",{className:"card mb-3",style:{border:"1px solid rgb(252, 69, 4)","max-width":"950px","margin-left":"50px","margin-right":"50px","margin-top":"10px","padding-top":"20px","padding-bottom":"20px"}},r.a.createElement("div",{className:"row g-0 ms-4 me-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-1"},r.a.createElement(b.b,{className:"up",style:{"font-color":"white"},onClick:function(){return T(localStorage.getItem("postId"))}}),r.a.createElement("p",{style:{"margin-bottom":"0px"}},k.data.likes),r.a.createElement(b.a,{className:"down",onClick:function(){return A(localStorage.getItem("postId"))}})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("img",{src:k.data.image[0],className:"img-fluid rounded-start",alt:"...",style:{"max-height":"200px"}}))),r.a.createElement("div",{className:"col-md-7",style:{"text-align":"left",position:"relative"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title "},k.data.title),r.a.createElement("p",{className:"card-text mt-3 mb-5"},"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.")),r.a.createElement("div",{className:"comments d-inline-flex",style:{"text-align":"left",position:"absolute",bottom:"0px"}},r.a.createElement(f.a,{style:{height:"25px","margin-left":"20px","margin-right":"10px"}}),r.a.createElement("p",{style:{"margin-bottom":"0px"}},k.data.comments.length," comments"))),k.data.comments.map((function(e){return r.a.createElement("div",{className:"container rounded",style:{width:"90.5%",backgroundColor:"#fff",border:"1px solid rgb(252, 69, 4)",margin:"10px"}},r.a.createElement("span",null,e.name),r.a.createElement("p",{style:{maxWidth:"100%"}},e.content))})),h&&y&&r.a.createElement("div",{className:"container rounded",style:{width:"90.5%",backgroundColor:"#fff",border:"1px solid rgb(252, 69, 4)",margin:"10px"}},r.a.createElement("span",null,h),r.a.createElement("p",{style:{maxWidth:"100%"}},y)),r.a.createElement("div",{className:"container mt-5 mb-5 col-lg-12 rounded ps-5 pe-5",style:{border:"1px solid rgb(252, 69, 4)"}},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{onSubmit:_},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"name",className:"text-left mt-4 mb-3"},"Name"),r.a.createElement("input",{type:"text",className:"form-control mb-3",id:"name",placeholder:"name",value:a,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"comment",className:"text-left mb-3"},"Comment:"),r.a.createElement("textarea",{type:"text",className:"form-control mb-3",id:"comment",placeholder:"comment",value:s,onChange:function(e){return i(e.target.value)}})),r.a.createElement("button",{type:"submit",className:"btn col-md-12 mt-4 mb-4",style:{backgroundColor:"rgb(252, 69, 4)",color:"#fff"}},"Comment"))))))):r.a.createElement("h1",null,"loading...")};var S=function(){return r.a.createElement("div",{className:"App container w-100 p-3 mt-0"},r.a.createElement(l.a,null,r.a.createElement(u,null),r.a.createElement(h.Switch,null,r.a.createElement(h.Route,{exact:!0,path:"/"},r.a.createElement(v,null)),r.a.createElement(h.Route,{exact:!0,path:"/create"},r.a.createElement(j,null)),r.a.createElement(h.Route,{exact:!0,path:"/signup"},r.a.createElement(x,null)),r.a.createElement(h.Route,{exact:!0,path:"/login"},r.a.createElement(k,null)),r.a.createElement(h.Route,{exact:!0,path:"/view"},r.a.createElement(O,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(44);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.51485899.chunk.js.map